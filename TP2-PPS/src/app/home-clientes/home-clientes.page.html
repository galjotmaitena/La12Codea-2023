<ion-content class="container-gral" *ngIf="!abierta">
  <ion-fab>
    <ion-fab-button (click)="startScan()">
      <ion-icon name="qr-code-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <div *ngIf="ingreso && !enMesa">                              <!-- escaneo ingreso, funcionalidad 3 y 4 -->
    <label *ngIf="cliente.mesa != ''">Su mesa asignada es la número {{cliente.mesa}}</label>
    <label *ngIf="cliente.espera">Usted se encuentra en lista de espera...</label>
    <div style="background-color: #fff; position: relative; display: flex;">
    <label>encuestas</label>
    </div>
  </div>
  
  <div *ngIf="enMesa">                      <!-- escaneo mesa, funcionalidad 6 y 7 -->
      <ion-segment slot="top" [(ngModel)]="selectedTab">
        <ion-segment-button class="segment-button" value="tab1">COMIDAS</ion-segment-button>
        <ion-segment-button class="segment-button" value="tab2">BEBIDAS</ion-segment-button>
        <ion-segment-button class="segment-button" value="tab3">POSTRES</ion-segment-button>
        <!-- Agrega más tabs según sea necesario -->
      </ion-segment>

      <div *ngIf="selectedTab === 'tab1'" >
        <div *ngFor="let p of listaProductos">
          <div *ngIf="p.tipo == 'comida'" class="contenedor-productos">
            <div>
              <h1>{{p.nombre}}</h1>
            </div>
            <div>
              <swiper-container navigation="true" pagination="true" loop="true" class="py-2">
                <swiper-slide>
                  <img [src]="p.fotos[0]">
                </swiper-slide>  
                <swiper-slide>
                  <img [src]="p.fotos[1]">
                </swiper-slide> 
                <swiper-slide>
                  <img [src]="p.fotos[2]">
                </swiper-slide> 
              </swiper-container>
            </div>
            <div>
              <h1>{{p.precio}}</h1>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="selectedTab === 'tab2'" >
        <div *ngFor="let p of listaProductos">
          <div *ngIf="p.tipo == 'bebida'" class="contenedor-productos">
            <div>
              <h1>{{p.nombre}}</h1>
            </div>
            <div>
              <swiper-container navigation="true" pagination="true" loop="true" class="py-2">
                <swiper-slide>
                  <img [src]="p.fotos[0]">
                </swiper-slide>  
                <swiper-slide>
                  <img [src]="p.fotos[1]">
                </swiper-slide> 
                <swiper-slide>
                  <img [src]="p.fotos[2]">
                </swiper-slide> 
              </swiper-container>
            </div>
            <div>
              <h1>{{p.precio}}</h1>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="selectedTab === 'tab3'" >
        <div *ngFor="let p of listaProductos">
          <div *ngIf="p.tipo == 'postre'" class="contenedor-productos">
            <div>
              <h1>{{p.nombre}}</h1>
            </div>
            <div>
              <swiper-container navigation="true" pagination="true" loop="true" class="py-2">
                <swiper-slide>
                  <img [src]="p.fotos[0]">
                </swiper-slide>  
                <swiper-slide>
                  <img [src]="p.fotos[1]">
                </swiper-slide> 
                <swiper-slide>
                  <img [src]="p.fotos[2]">
                </swiper-slide> 
              </swiper-container>
            </div>
            <div>
              <h1>{{p.precio}}</h1>
            </div>
            <div>
              <ion-button><ion-icon name="add-outline"></ion-icon></ion-button>
              <ion-button><ion-icon name="remove-outline"></ion-icon></ion-button>
            </div>
          </div>
        </div>
      </div>

    <!-- <div *ngFor="let p of listaProductos">
      <div class="contenedor-productos">
        <div>
          <h1>{{p.nombre}}</h1>
        </div>
        <div>
          <swiper-container navigation="true" pagination="true" loop="true" class="py-2">
            <swiper-slide>
              <img [src]="p.fotos[0]">
            </swiper-slide>  
            <swiper-slide>
              <img [src]="p.fotos[1]">
            </swiper-slide> 
            <swiper-slide>
              <img [src]="p.fotos[2]">
            </swiper-slide> 
          </swiper-container>
        </div>
        <div>
          <h1>{{p.precio}}</h1>
        </div>
      </div>
    </div> -->

    <ion-fab>
      <ion-fab-button (click)="asignarEscan()">
        <ion-icon name="chatbubble-ellipses-outline"></ion-icon>   <!-- chat?????-->
      </ion-fab-button>
    </ion-fab>
  </div>
</ion-content>
<ion-footer class="ion-no-border" >
  <ion-toolbar style="--background:#F6BD60">
    <ion-icon class="iconFooter" name="person-outline"></ion-icon>
  </ion-toolbar>
</ion-footer>